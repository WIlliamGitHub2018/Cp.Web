<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <!-- 可以让部分国产浏览器默认采用高速模式渲染页面： -->
    <meta name="renderer" content="webkit">

    <!-- Bootstrap 不支持 IE 古老的兼容模式。为了让 IE 浏览器运行最新的渲染模式下，建议将此 <meta> 标签加入到你的页面中： -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- 移动设备优先的 -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- 禁用缩放
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"> -->
    <link rel="stylesheet" href="layui/css/layui.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/custom.css">
    <link rel="stylesheet" href="css/theme.css">
    <link rel="stylesheet" href="css/crm_custom.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries  IE8不支持媒体查询，需在服务器上运行respond.js 有效-->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="js/jquery-1.9.1.min.js"></script>
    <script src="https://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src="js/jquery-2.1.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="layui/layui.js"></script>
    <script src="js/custom.js"></script>
    <script src="js/yangyan.js"></script>
</head>
<body>
<!--基础策略配置-->
<div class="list-info-section border-blue">
    <div class="sec-filter">
        <form action="" class="layui-form selector">
            <div class="layui-form-item">
                <div class="layui-input-inline layui-inline">
                    <select name="quiz1">
                        <option value="">策略类型</option>
                        <option value="0" selected="">固定比例</option>
                        <option value="1">固定积分</option>
                        <option value="2">满送策略</option>
                    </select>
                </div>
            </div>
            <div class="layui-form-item">
                <div class="layui-input-block btn-list">
                    <button type="submit" class="layui-btn ">查询</button>
                    <input type="reset" class="layui-btn " value="重置">
                </div>

            </div>
        </form>
    </div>
</div>
<div class="list-info-section ">
    <h4 class="sec-title">
        <b>策略配置列表</b>
        <div class="operate-btns">
            <a href="javascript:;" class="operate-btn insert-btn" >新建</a>
            <a href="javascript:;" class="operate-btn edit-btn" >编辑</a>
            <a href="javascript:;" class="operate-btn delete-btn" >删除</a>
        </div>

    </h4>
    <div class="sec-item1">
        <table class="table table-hover table-bordered ">
            <thead>
            <tr>
                <th><input type="checkbox" name="" class="all-checkbox"/></th>
                <th>编号</th>
                <th>策略类型</th>
                <th>策略名称</th>
                <th>策略简介</th>
                <th>是否启用</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td><input type="checkbox" name="" class="list-checkbox" /></td>
                <td>1</td>
                <td>固定比例</td>
                <td>一倍积分</td>
                <td>赠送1积分</td>
                <td>是</td>
            </tr>
            <tr>
                <td><input type="checkbox" name="" class="list-checkbox" /></td>
                <td>2</td>
                <td>固定积分</td>
                <td>赠送10积分</td>
                <td>赠送10积分</td>
                <td>是</td>
            </tr>
            <tr>
                <td><input type="checkbox" name="" class="list-checkbox" /></td>
                <td>3</td>
                <td>满送策略</td>
                <td>送积分</td>
                <td>满100赠送10积分</td>
                <td>是</td>
            </tr>
            <tr>
                <td><input type="checkbox" name="" class="list-checkbox" /></td>
                <td>4</td>
                <td>满送策略</td>
                <td>送积分</td>
                <td>满200赠送20积分</td>
                <td>是</td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
<!--新建编辑弹框-->
<div class="layer-common layer-points-ms " >
    <div class="modal-body">
        <form action="" class="layui-form selector mid-input mid_selector">
            <div class="layui-form-item find_layui-form-item" pane="">
                <div class="layui-inline points_methods">
                    <label class="layui-form-label">策略类型</label>
                    <div class="layui-input-block ">
                        <select name="modules" lay-verify="required" lay-search="" id="strategy-points" lay-filter="strategy-points">
                            <option value="">直接选择</option>
                            <option value="0">固定比例</option>
                            <option value="1">固定积分</option>
                            <option value="2">满送策略</option>
                        </select>
                    </div>
                </div>
                <div class="layui-inline">
                    <label class="layui-form-label">策略名称</label>
                    <div class="layui-input-block">
                        <input type="text" name=""  placeholder="请输入" class="layui-input">
                    </div>
                </div>
                <div class="layui-inline">
                    <label class="layui-form-label">启用</label>
                    <div class="layui-input-block">
                        <select name="" lay-filter="" lay-verify="required">
                            <option value=""></option>
                            <option value="0">是</option>
                            <option value="1">否</option>
                        </select>
                    </div>
                </div>
                <div class="layui-form-item" pane="">
                    <div class="layui-inline">
                        <label class="layui-form-label">策略简介</label>
                        <div class="layui-input-block clear-input">
                            <textarea  name="customerName"  placeholder="请输入" class="layui-textarea result_textarea"></textarea>
                        </div>
                    </div>
                </div>
            </div>
            <div class="layui-form-item points_method points_method_scale">
                <div class="layui-inline">
                    <label class="layui-form-label">固定比例</label>
                    <div class="layui-input-block points_strategy">
                        <input type="text" name=""  placeholder="" class="layui-input">
                        <span class="points_strategy_contact">:</span>
                        <input type="text" name=""  placeholder="" class="layui-input">
                    </div>
                </div>
            </div>
            <div class="layui-form-item points_method points_method_sum">
                <div class="layui-inline">
                    <label class="layui-form-label">固定积分</label>
                    <div class="layui-input-block points_strategy">
                        <input type="text" name=""  placeholder="" class="layui-input">
                    </div>
                </div>
            </div>
            <div class="layui-form-item points_method points_method_full">
                <div class="layui-inline">
                    <label class="layui-form-label">满</label>
                    <div class="layui-input-block points_strategy">
                        <input type="text" name=""  placeholder="" class="layui-input">
                        <span class="points_strategy_contact">送</span>
                        <input type="text" name=""  placeholder="" class="layui-input">
                    </div>
                </div>
            </div>
            <div class="layui-form-item">
                <div class="layui-input-block btn-list ">
                    <a href="javascript:void(0);" class="layui-btn " type="submit">确定</a>
                </div>
            </div>
        </form>
    </div>
</div>
<script src="layui/layui_my.js"></script>
<script>

    layui.use('form', function(){
        var form = layui.form;
        form.on('select(strategy-points)', function(data){
            if(data.value == 0){
                $(this).parents(".find_layui-form-item").siblings(".points_method_sum").hide().siblings(".points_method_full").hide().siblings(".points_method_scale").show();
            }else if(data.value == 1){
                $(this).parents(".find_layui-form-item").siblings(".points_method_scale").hide().siblings(".points_method_full").hide().siblings(".points_method_sum").show();
            }else if(data.value == 2){
                $(this).parents(".find_layui-form-item").siblings(".points_method_full").show().siblings(".points_method_sum").hide().siblings(".points_method_scale").hide();
            }
        });

    });

    $('.insert-btn').on('click',function () {
        addLayer('新建','.layer-points-ms',730,300 );
    });
    $('.edit-btn').on('click',function () {
        editLayer('编辑','.layer-points-ms',730,300 );
    });


</script>
</body>

</html>